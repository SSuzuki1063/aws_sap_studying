<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Transit Gateway共有の超簡単ガイド</title>
    <style>
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        h1, h2, h3 {
            color: #232f3e;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 24px;
            border-bottom: 2px solid #ff9900;
            padding-bottom: 10px;
        }
        
        .container {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .intro {
            text-align: center;
            margin-bottom: 20px;
            font-size: 16px;
            background-color: #f0f8ff;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #0073bb;
        }
        
        .intro p {
            margin: 0;
        }
        
        .explanation {
            display: flex;
            margin: 20px 0;
            align-items: center;
        }
        
        .explanation-text {
            flex: 1;
            padding: 15px;
        }
        
        .explanation-image {
            flex: 1;
            text-align: center;
        }
        
        .steps {
            margin-top: 30px;
        }
        
        .step {
            display: flex;
            margin-bottom: 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .step-number {
            background-color: #ff9900;
            color: white;
            font-size: 24px;
            font-weight: bold;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 60px;
        }
        
        .step-content {
            padding: 15px;
            flex: 1;
        }
        
        .step h3 {
            margin-top: 0;
            color: #232f3e;
        }
        
        .step p {
            margin-bottom: 0;
        }
        
        .highlight {
            background-color: #fff8e6;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #ff9900;
            margin: 20px 0;
        }
        
        .simple-terms {
            background-color: #f0f8ff;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .simple-terms h3 {
            color: #0073bb;
            margin-top: 0;
        }
        
        .simple-term {
            margin-bottom: 10px;
        }
        
        .term-name {
            font-weight: bold;
        }
        
        .comparison {
            display: flex;
            margin: 20px 0;
            justify-content: space-between;
        }
        
        .comparison-column {
            flex: 1;
            margin: 0 10px;
            text-align: center;
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
        }
        
        .comparison-column h3 {
            margin-top: 0;
            color: #232f3e;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }
        
        .comparison-column img {
            max-width: 100%;
            height: auto;
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            color: #666;
            font-size: 0.9em;
        }

        .center-image {
            text-align: center;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>複数AWSアカウント間のネットワーク接続を簡単に！<br>Transit Gatewayの共有ガイド</h1>
        
        <div class="intro">
            <p><strong>「複数のAWSアカウントのネットワークをどうやって接続すればいいの？」</strong>という疑問を解決します。</p>
        </div>
        
        <div class="explanation">
            <div class="explanation-text">
                <h2>Transit Gateway（TGW）って何？</h2>
                <p>Transit Gatewayは、<strong>複数のネットワークを接続する「ハブ」</strong>のようなものです。</p>
                <p>例えると、いくつもの道路（ネットワーク）が集まる「ロータリー」のようなものと考えてください。</p>
            </div>
            <div class="explanation-image">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 200">
                    <!-- ロータリーイメージ -->
                    <circle cx="150" cy="100" r="40" fill="#ff9900" />
                    <text x="150" y="100" text-anchor="middle" dominant-baseline="middle" fill="white" font-weight="bold">Transit Gateway</text>
                    
                    <!-- 道路1 -->
                    <rect x="10" y="85" width="100" height="30" fill="#cccccc" />
                    <text x="60" y="105" text-anchor="middle" dominant-baseline="middle">ネットワークA</text>
                    
                    <!-- 道路2 -->
                    <rect x="190" y="85" width="100" height="30" fill="#cccccc" />
                    <text x="240" y="105" text-anchor="middle" dominant-baseline="middle">ネットワークB</text>
                    
                    <!-- 道路3 -->
                    <rect x="135" y="10" width="30" height="50" fill="#cccccc" />
                    <text x="150" y="35" text-anchor="middle" dominant-baseline="middle" writing-mode="tb">ネットワークC</text>
                    
                    <!-- 道路4 -->
                    <rect x="135" y="140" width="30" height="50" fill="#cccccc" />
                    <text x="150" y="165" text-anchor="middle" dominant-baseline="middle" writing-mode="tb">ネットワークD</text>
                </svg>
            </div>
        </div>
        
        <div class="highlight">
            <h2>Transit Gatewayの問題点</h2>
            <p>Transit Gatewayは便利ですが、作成したAWSアカウントでしか使えません。</p>
            <p>別のアカウントでも使いたい場合は「<strong>共有</strong>」する必要があります。</p>
            <p>この共有に使うのが「<strong>AWS Resource Access Manager (RAM)</strong>」というサービスです。</p>
        </div>
        
        <div class="center-image">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 300">
                <!-- 背景 -->
                <rect x="0" y="0" width="700" height="300" fill="#f5f9ff" rx="10" ry="10" />
                
                <!-- アカウント枠 -->
                <rect x="50" y="30" width="600" height="120" fill="#ffffff" stroke="#232f3e" stroke-width="2" rx="5" ry="5" />
                <text x="350" y="20" text-anchor="middle" font-size="16" font-weight="bold" fill="#232f3e">アカウントA（所有者）</text>
                
                <rect x="50" y="170" width="290" height="110" fill="#ffffff" stroke="#232f3e" stroke-width="2" rx="5" ry="5" />
                <text x="195" y="160" text-anchor="middle" font-size="16" font-weight="bold" fill="#232f3e">アカウントB（利用者）</text>
                
                <rect x="360" y="170" width="290" height="110" fill="#ffffff" stroke="#232f3e" stroke-width="2" rx="5" ry="5" />
                <text x="505" y="160" text-anchor="middle" font-size="16" font-weight="bold" fill="#232f3e">アカウントC（利用者）</text>
                
                <!-- Transit Gateway -->
                <circle cx="350" cy="80" r="30" fill="#ff9900" />
                <text x="350" y="85" text-anchor="middle" font-size="12" fill="white" font-weight="bold">Transit</text>
                <text x="350" y="100" text-anchor="middle" font-size="12" fill="white" font-weight="bold">Gateway</text>
                
                <!-- RAM -->
                <rect x="450" y="60" width="80" height="40" fill="#e6f7ff" stroke="#0073bb" stroke-width="2" rx="5" ry="5" />
                <text x="490" y="85" text-anchor="middle" font-size="14" font-weight="bold" fill="#0073bb">RAM</text>
                
                <!-- VPCs -->
                <rect x="100" y="200" width="80" height="40" fill="#e6ffe6" stroke="#232f3e" stroke-width="2" rx="5" ry="5" />
                <text x="140" y="225" text-anchor="middle" font-size="14" fill="#232f3e">VPC-B</text>
                
                <rect x="210" y="200" width="80" height="40" fill="#e6ffe6" stroke="#232f3e" stroke-width="2" rx="5" ry="5" />
                <text x="250" y="225" text-anchor="middle" font-size="14" fill="#232f3e">VPC-B2</text>
                
                <rect x="410" y="200" width="80" height="40" fill="#e6ffe6" stroke="#232f3e" stroke-width="2" rx="5" ry="5" />
                <text x="450" y="225" text-anchor="middle" font-size="14" fill="#232f3e">VPC-C</text>
                
                <rect x="520" y="200" width="80" height="40" fill="#e6ffe6" stroke="#232f3e" stroke-width="2" rx="5" ry="5" />
                <text x="560" y="225" text-anchor="middle" font-size="14" fill="#232f3e">VPC-C2</text>
                
                <!-- 接続線 -->
                <line x1="390" y1="80" x2="450" y2="80" stroke="#232f3e" stroke-width="2" />
                
                <path d="M350 110 L350 150 L140 150 L140 200" stroke="#0073bb" stroke-width="2" stroke-dasharray="5,5" fill="none" />
                <path d="M350 110 L350 150 L250 150 L250 200" stroke="#0073bb" stroke-width="2" stroke-dasharray="5,5" fill="none" />
                <path d="M350 110 L350 150 L450 150 L450 200" stroke="#0073bb" stroke-width="2" stroke-dasharray="5,5" fill="none" />
                <path d="M350 110 L350 150 L560 150 L560 200" stroke="#0073bb" stroke-width="2" stroke-dasharray="5,5" fill="none" />
                
                <!-- 説明テキスト -->
                <text x="420" y="70" text-anchor="end" font-size="12" fill="#232f3e">①作成</text>
                <text x="520" y="70" text-anchor="start" font-size="12" fill="#232f3e">②共有設定</text>
                <text x="350" y="140" text-anchor="middle" font-size="12" fill="#0073bb">③共有されたTGWを利用</text>
            </svg>
        </div>
        
        <div class="simple-terms">
            <h3>まずは用語をシンプルに理解しよう</h3>
            
            <div class="simple-term">
                <span class="term-name">Transit Gateway (TGW)</span>：
                複数のネットワーク（VPC）を接続する「交差点」のようなもの
            </div>
            
            <div class="simple-term">
                <span class="term-name">Resource Access Manager (RAM)</span>：
                自分のAWSリソースを他のアカウントと「貸し借り」できるサービス
            </div>
            
            <div class="simple-term">
                <span class="term-name">VPC (Virtual Private Cloud)</span>：
                AWSにおける「プライベートネットワーク」のこと
            </div>
        </div>
        
        <div class="comparison">
            <div class="comparison-column">
                <h3>共有なしの場合</h3>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 150">
                    <!-- 背景 -->
                    <rect x="0" y="0" width="300" height="150" fill="#f5f5f5" rx="5" ry="5" />
                    
                    <!-- アカウントA -->
                    <rect x="20" y="30" width="110" height="90" fill="#ffffff" stroke="#666" stroke-width="1" rx="3" ry="3" />
                    <text x="75" y="20" text-anchor="middle" font-size="12" fill="#232f3e">アカウントA</text>
                    
                    <!-- アカウントB -->
                    <rect x="170" y="30" width="110" height="90" fill="#ffffff" stroke="#666" stroke-width="1" rx="3" ry="3" />
                    <text x="225" y="20" text-anchor="middle" font-size="12" fill="#232f3e">アカウントB</text>
                    
                    <!-- TGW A -->
                    <circle cx="75" cy="60" r="15" fill="#ff9900" />
                    <text x="75" y="64" text-anchor="middle" font-size="10" fill="white" font-weight="bold">TGW</text>
                    
                    <!-- TGW B -->
                    <circle cx="225" cy="60" r="15" fill="#ff9900" />
                    <text x="225" y="64" text-anchor="middle" font-size="10" fill="white" font-weight="bold">TGW</text>
                    
                    <!-- VPCs -->
                    <rect x="40" y="90" width="30" height="20" fill="#e6ffe6" stroke="#232f3e" stroke-width="1" rx="2" ry="2" />
                    <text x="55" y="104" text-anchor="middle" font-size="8" fill="#232f3e">VPC</text>
                    
                    <rect x="80" y="90" width="30" height="20" fill="#e6ffe6" stroke="#232f3e" stroke-width="1" rx="2" ry="2" />
                    <text x="95" y="104" text-anchor="middle" font-size="8" fill="#232f3e">VPC</text>
                    
                    <rect x="190" y="90" width="30" height="20" fill="#e6ffe6" stroke="#232f3e" stroke-width="1" rx="2" ry="2" />
                    <text x="205" y="104" text-anchor="middle" font-size="8" fill="#232f3e">VPC</text>
                    
                    <rect x="230" y="90" width="30" height="20" fill="#e6ffe6" stroke="#232f3e" stroke-width="1" rx="2" ry="2" />
                    <text x="245" y="104" text-anchor="middle" font-size="8" fill="#232f3e">VPC</text>
                    
                    <!-- 接続線 -->
                    <line x1="55" y1="90" x2="70" y2="72" stroke="#232f3e" stroke-width="1" />
                    <line x1="95" y1="90" x2="80" y2="72" stroke="#232f3e" stroke-width="1" />
                    <line x1="205" y1="90" x2="220" y2="72" stroke="#232f3e" stroke-width="1" />
                    <line x1="245" y1="90" x2="230" y2="72" stroke="#232f3e" stroke-width="1" />
                    
                    <!-- 点線（接続困難） -->
                    <line x1="95" y1="60" x2="205" y2="60" stroke="#ff3333" stroke-width="1" stroke-dasharray="3,3" />
                    <text x="150" y="50" text-anchor="middle" font-size="10" fill="#ff3333">複雑な接続</text>
                </svg>
                <p>各アカウントでTGWを作成<br>→複雑で管理が大変</p>
                <p>アカウント間の接続には<br>別の設定が必要</p>
            </div>
            
            <div class="comparison-column">
                <h3>共有ありの場合</h3>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 150">
                    <!-- 背景 -->
                    <rect x="0" y="0" width="300" height="150" fill="#f5f5f5" rx="5" ry="5" />
                    
                    <!-- アカウントA -->
                    <rect x="20" y="15" width="260" height="40" fill="#ffffff" stroke="#666" stroke-width="1" rx="3" ry="3" />
                    <text x="40" y="35" text-anchor="start" font-size="12" fill="#232f3e">アカウントA（所有者）</text>
                    
                    <!-- アカウントB -->
                    <rect x="20" y="65" width="120" height="70" fill="#ffffff" stroke="#666" stroke-width="1" rx="3" ry="3" />
                    <text x="40" y="85" text-anchor="start" font-size="12" fill="#232f3e">アカウントB</text>
                    
                    <!-- アカウントC -->
                    <rect x="160" y="65" width="120" height="70" fill="#ffffff" stroke="#666" stroke-width="1" rx="3" ry="3" />
                    <text x="180" y="85" text-anchor="start" font-size="12" fill="#232f3e">アカウントC</text>
                    
                    <!-- 1つのTGW -->
                    <circle cx="220" cy="35" r="15" fill="#ff9900" />
                    <text x="220" y="39" text-anchor="middle" font-size="10" fill="white" font-weight="bold">TGW</text>
                    
                    <!-- VPCs -->
                    <rect x="35" y="100" width="30" height="20" fill="#e6ffe6" stroke="#232f3e" stroke-width="1" rx="2" ry="2" />
                    <text x="50" y="114" text-anchor="middle" font-size="8" fill="#232f3e">VPC</text>
                    
                    <rect x="85" y="100" width="30" height="20" fill="#e6ffe6" stroke="#232f3e" stroke-width="1" rx="2" ry="2" />
                    <text x="100" y="114" text-anchor="middle" font-size="8" fill="#232f3e">VPC</text>
                    
                    <rect x="175" y="100" width="30" height="20" fill="#e6ffe6" stroke="#232f3e" stroke-width="1" rx="2" ry="2" />
                    <text x="190" y="114" text-anchor="middle" font-size="8" fill="#232f3e">VPC</text>
                    
                    <rect x="225" y="100" width="30" height="20" fill="#e6ffe6" stroke="#232f3e" stroke-width="1" rx="2" ry="2" />
                    <text x="240" y="114" text-anchor="middle" font-size="8" fill="#232f3e">VPC</text>
                    
                    <!-- 接続線 -->
                    <path d="M50 100 L50 65 L220 65 L220 50" stroke="#0073bb" stroke-width="1" stroke-dasharray="3,3" fill="none" />
                    <path d="M100 100 L100 65 L220 65 L220 50" stroke="#0073bb" stroke-width="1" stroke-dasharray="3,3" fill="none" />
                    <path d="M190 100 L190 65 L220 65 L220 50" stroke="#0073bb" stroke-width="1" stroke-dasharray="3,3" fill="none" />
                    <path d="M240 100 L240 65 L220 65 L220 50" stroke="#0073bb" stroke-width="1" stroke-dasharray="3,3" fill="none" />
                    
                    <text x="150" y="55" text-anchor="middle" font-size="10" fill="#0073bb">簡単に接続可能</text>
                </svg>
                <p>1つのTGWを共有<br>→シンプルで管理が簡単</p>
                <p>すべてのVPCが1つの<br>TGWに接続可能</p>
            </div>
        </div>
        
        <div class="steps">
            <h2>Transit Gatewayを共有する手順</h2>
            
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h3>Transit Gatewayを作成する</h3>
                    <p>所有者アカウント（アカウントA）でTransit Gatewayを作成します。</p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h3>RAMでリソース共有を作成する</h3>
                    <p>Resource Access Managerを開き、「リソース共有の作成」をクリックして進めます。</p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h3>共有するTransit Gatewayを選択</h3>
                    <p>共有するリソース一覧から「Transit Gateway」を選択します。</p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <h3>共有先のアカウントを指定</h3>
                    <p>共有したいAWSアカウント番号や組織を指定します。同じ組織内なら組織全体と共有も可能です。</p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-number">5</div>
                <div class="step-content">
                    <h3>共有を受け入れる（参加者側）</h3>
                    <p>参加者側のアカウント（BやC）で共有を受け入れます。<br>（同じAWS組織内なら自動承認されます）</p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-number">6</div>
                <div class="step-content">
                    <h3>VPCをTransit Gatewayに接続する</h3>
                    <p>各アカウントで自分のVPCを共有されたTransit Gatewayに接続します。</p>
                </div>
            </div>
        </div>
        
        <div class="highlight">
            <h3>図解: 完成イメージ</h3>
            <div class="center-image">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 200">
                    <!-- 中央のTGW -->
                    <circle cx="250" cy="100" r="25" fill="#ff9900" />
                    <text x="250" y="95" text-anchor="middle" font-size="10" fill="white" font-weight="bold">Transit</text>
                    <text x="250" y="110" text-anchor="middle" font-size="10" fill="white" font-weight="bold">Gateway</text>
                    
                    <!-- VPC-A1 -->
                    <rect x="100" y="40" width="60" height="30" fill="#e6ffe6" stroke="#232f3e" stroke-width="1" rx="3" ry="3" />
                    <text x="130" y="60" text-anchor="middle" font-size="12" fill="#232f3e">VPC-A1</text>
                    
                    <!-- VPC-A2 -->
                    <rect x="100" y="130" width="60" height="30" fill="#e6ffe6" stroke="#232f3e" stroke-width="1" rx="3" ry="3" />
                    <text x="130" y="150" text-anchor="middle" font-size="12" fill="#232f3e">VPC-A2</text>
                    
                    <!-- VPC-B1 -->
                    <rect x="340" y="40" width="60" height="30" fill="#e6ffe6" stroke="#232f3e" stroke-width="1" rx="3" ry="3" />
                    <text x="370" y="60" text-anchor="middle" font-size="12" fill="#232f3e">VPC-B1</text>
                    
                    <!-- VPC-B2 -->
                    <rect x="340" y="130" width="60" height="30" fill="#e6ffe6" stroke="#232f3e" stroke-width="1" rx="3" ry="3" />
                    <text x="370" y="150" text-anchor="middle" font-size="12" fill="#232f3e">VPC-B2</text>
                    
                    <!-- アカウント表示 -->
                    <text x="130" y="30" text-anchor="middle" font-size="12" fill="#232f3e">アカウントA</text>
                    <text x="370" y="30" text-anchor="middle" font-size="12" fill="#232f3e">アカウントB</text>
                    
                    <!-- 接続線 -->
                    <line x1="160" y1="55" x2="226" y2="90" stroke="#232f3e" stroke-width="1.5" />
                    <line x1="160" y1="145" x2="226" y2="110" stroke="#232f3e" stroke-width="1.5" />
                    <line x1="340" y1="55" x2="274" y2="90" stroke="#232f3e" stroke-width="1.5" />
                    <line x1="340" y1="145" x2="274" y2="110" stroke="#232f3e" stroke-width="1.5" />
                    
                    <!-- RAMアイコン -->
                    <rect x="220" y="30" width="60" height="25" fill="#e6f7ff" stroke="#0073bb" stroke-width="1" rx="3" ry="3" />
                    <text x="250" y="45" text-anchor="middle" font-size="10" fill="#0073bb">RAM共有</text>
                    
                    <!-- トラフィック説明 -->
                    <path d="M130 40 C 180 0, 320 0, 370 40" stroke="#0073bb" stroke-width="1" stroke-dasharray="3,3" fill="none" />
                    <text x="250" y="15" text-anchor="middle" font-size="10" fill="#0073bb">両アカウントのVPC間で通信可能</text>
                </svg>
            </div>
        </div>
        
        <div class="highlight">
            <h3>まとめ</h3>
            <p>✅ Transit Gateway（TGW）は複数のネットワークをつなぐハブです</p>
            <p>✅ Resource Access Manager（RAM）を使うと、TGWを他のアカウントと共有できます</p>
            <p>✅ 共有することで管理が楽になり、コストも削減できます</p>
            <p>✅ 複数アカウントのVPC同士が簡単に通信できるようになります</p>
        </div>
    </div>
    
    <footer>
        <p>※この解説は基本的な概念を説明するためのものです。実際の設定では、セキュリティやルーティングなどの詳細設定も必要になります。AWSの公式ドキュメントも参考にしてください。</p>
    </footer>
</body>
</html>