<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Direct Connect仮想ゲートウェイ解説</title>
    <style>
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
        }
        h1 {
            color: #232F3E;
            text-align: center;
            margin-bottom: 30px;
        }
        h2 {
            color: #FF9900;
            margin-top: 30px;
        }
        .container {
            background-color: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .intro {
            background-color: #232F3E;
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        .diagram {
            margin: 40px 0;
            text-align: center;
        }
        .diagram svg {
            max-width: 100%;
        }
        .benefits {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            margin: 30px 0;
        }
        .benefit-box {
            background-color: #f1faff;
            border-left: 4px solid #FF9900;
            padding: 15px;
            margin-bottom: 20px;
            width: calc(50% - 20px);
            box-sizing: border-box;
            border-radius: 4px;
        }
        .step {
            background-color: #f5f5f5;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            position: relative;
        }
        .step-number {
            background-color: #FF9900;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            position: absolute;
            top: -15px;
            left: -15px;
        }
        .comparison {
            width: 100%;
            border-collapse: collapse;
            margin: 30px 0;
        }
        .comparison th, .comparison td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        .comparison th {
            background-color: #232F3E;
            color: white;
        }
        .comparison tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .text-center {
            text-align: center;
        }
        .footer {
            margin-top: 40px;
            text-align: center;
            font-size: 0.9em;
            color: #666;
        }
        @media (max-width: 768px) {
            .benefit-box {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>AWS Direct Connect 仮想ゲートウェイ解説</h1>
        
        <div class="intro">
            <h2 class="text-center">AWS Direct Connectとは？</h2>
            <p>AWS Direct Connectは、お客様のデータセンターやオフィスからAWSへの専用ネットワーク接続を提供するサービスです。インターネットを経由せずに、より安全で高速かつ安定した接続を実現します。</p>
        </div>

        <div class="diagram">
            <h2>AWS Direct Connect 基本構成図</h2>
            <svg viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
                <!-- 背景 -->
                <rect x="10" y="10" width="780" height="380" fill="#f5f5f5" rx="10" />
                
                <!-- AWSクラウド -->
                <rect x="400" y="30" width="350" height="340" fill="#FFFFED" stroke="#232F3E" stroke-width="2" rx="20" />
                <text x="575" y="60" font-family="Arial" font-size="20" text-anchor="middle" fill="#232F3E">AWSクラウド</text>
                
                <!-- オンプレミス -->
                <rect x="50" y="30" width="250" height="340" fill="#EDF8FF" stroke="#333" stroke-width="2" rx="20" />
                <text x="175" y="60" font-family="Arial" font-size="20" text-anchor="middle">オンプレミス環境</text>
                
                <!-- VPC -->
                <rect x="420" y="80" width="310" height="200" fill="white" stroke="#FF9900" stroke-width="2" rx="10" />
                <text x="575" y="100" font-family="Arial" font-size="18" text-anchor="middle" fill="#232F3E">VPC</text>
                
                <!-- 仮想ゲートウェイ -->
                <rect x="450" y="220" width="120" height="40" fill="#FF9900" stroke="#333" stroke-width="2" rx="5" />
                <text x="510" y="245" font-family="Arial" font-size="14" text-anchor="middle" fill="white">仮想ゲートウェイ</text>
                
                <!-- EC2インスタンス -->
                <rect x="620" y="130" width="80" height="40" fill="#9DD5F1" stroke="#333" stroke-width="2" rx="5" />
                <text x="660" y="155" font-family="Arial" font-size="14" text-anchor="middle">EC2</text>
                
                <!-- S3 -->
                <rect x="620" y="190" width="80" height="40" fill="#9DD5F1" stroke="#333" stroke-width="2" rx="5" />
                <text x="660" y="215" font-family="Arial" font-size="14" text-anchor="middle">S3</text>
                
                <!-- Direct Connect ロケーション -->
                <rect x="300" y="220" width="60" height="60" fill="#9DED7F" stroke="#333" stroke-width="2" rx="5" />
                <text x="330" y="243" font-family="Arial" font-size="12" text-anchor="middle">Direct</text>
                <text x="330" y="259" font-family="Arial" font-size="12" text-anchor="middle">Connect</text>
                <text x="330" y="275" font-family="Arial" font-size="12" text-anchor="middle">ロケーション</text>
                
                <!-- 社内ルーター -->
                <rect x="150" y="220" width="80" height="40" fill="#F1D39D" stroke="#333" stroke-width="2" rx="5" />
                <text x="190" y="245" font-family="Arial" font-size="14" text-anchor="middle">社内ルーター</text>
                
                <!-- 社内サーバー -->
                <rect x="80" y="130" width="80" height="40" fill="#F1D39D" stroke="#333" stroke-width="2" rx="5" />
                <text x="120" y="155" font-family="Arial" font-size="14" text-anchor="middle">サーバー</text>
                
                <!-- 社内PC -->
                <rect x="180" y="130" width="80" height="40" fill="#F1D39D" stroke="#333" stroke-width="2" rx="5" />
                <text x="220" y="155" font-family="Arial" font-size="14" text-anchor="middle">社内PC</text>
                
                <!-- 接続線 -->
                <!-- オンプレミス内接続 -->
                <line x1="120" y1="170" x2="150" y2="220" stroke="#333" stroke-width="2" />
                <line x1="220" y1="170" x2="190" y2="220" stroke="#333" stroke-width="2" />
                
                <!-- Direct Connect 接続 -->
                <line x1="230" y1="240" x2="300" y2="240" stroke="#333" stroke-width="2" stroke-dasharray="5,5" />
                <text x="265" y="235" font-family="Arial" font-size="12" text-anchor="middle">専用線</text>
                
                <!-- Direct Connect から仮想ゲートウェイへの接続 -->
                <line x1="360" y1="240" x2="450" y2="240" stroke="#FF9900" stroke-width="3" />
                <text x="405" y="235" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">仮想接続</text>
                
                <!-- 仮想ゲートウェイからAWSリソースへの接続 -->
                <line x1="510" y1="220" x2="510" y2="180" stroke="#333" stroke-width="2" />
                <line x1="510" y1="180" x2="620" y2="150" stroke="#333" stroke-width="2" />
                <line x1="510" y1="180" x2="620" y2="210" stroke="#333" stroke-width="2" />
            </svg>
        </div>

        <h2>仮想ゲートウェイ(Virtual Private Gateway)とは？</h2>
        <p>仮想ゲートウェイ（Virtual Private Gateway：VGW）は、AWS Direct Connectを通じてVPCとオンプレミス環境を接続するための重要なコンポーネントです。仮想ゲートウェイはVPCに接続されるルーターのようなもので、AWS側のネットワークとお客様のネットワークをつなぐ橋渡しの役割をします。</p>

        <div class="benefits">
            <div class="benefit-box">
                <h3>セキュリティ向上</h3>
                <p>インターネットを経由せず、専用線を使った安全な接続</p>
            </div>
            <div class="benefit-box">
                <h3>信頼性の高いネットワーク</h3>
                <p>安定した低レイテンシーな接続によりパフォーマンスが向上</p>
            </div>
            <div class="benefit-box">
                <h3>コスト効率</h3>
                <p>大量のデータ転送時にデータ転送料金を削減可能</p>
            </div>
            <div class="benefit-box">
                <h3>柔軟なスケーリング</h3>
                <p>帯域幅を必要に応じて1Gbpsから100Gbpsまで選択可能</p>
            </div>
        </div>

        <h2>Direct Connectと仮想ゲートウェイの仕組み</h2>
        
        <div class="step">
            <div class="step-number">1</div>
            <h3>仮想ゲートウェイの作成</h3>
            <p>VPCに仮想ゲートウェイをアタッチします。これによりAWS側のネットワークへの入り口が確立されます。</p>
        </div>
        
        <div class="step">
            <div class="step-number">2</div>
            <h3>Direct Connect接続の確立</h3>
            <p>お客様のネットワークとAWS Direct Connectロケーション間に物理的な専用線を設置します。</p>
        </div>
        
        <div class="step">
            <div class="step-number">3</div>
            <h3>仮想インターフェースの作成</h3>
            <p>Direct Connect接続上に「仮想インターフェース（VIF）」を作成し、仮想ゲートウェイとの接続を確立します。</p>
        </div>
        
        <div class="step">
            <div class="step-number">4</div>
            <h3>BGPセッションの確立</h3>
            <p>ルーティングプロトコル（BGP）を使用して、お客様のネットワークとAWS間でルート情報の交換を開始します。</p>
        </div>

        <h2>仮想ゲートウェイの種類</h2>
        <table class="comparison">
            <tr>
                <th>接続タイプ</th>
                <th>特徴</th>
                <th>ユースケース</th>
            </tr>
            <tr>
                <td>プライベート仮想インターフェース</td>
                <td>VPCのプライベートリソースにアクセス可能</td>
                <td>EC2インスタンス、RDS、内部ロードバランサーなど</td>
            </tr>
            <tr>
                <td>パブリック仮想インターフェース</td>
                <td>AWSのパブリックリソースにアクセス可能</td>
                <td>S3、DynamoDB、Public APIなど</td>
            </tr>
            <tr>
                <td>トランジット仮想インターフェース</td>
                <td>Transit Gatewayを経由して複数のVPCに接続</td>
                <td>複数のVPCを持つ大規模環境</td>
            </tr>
        </table>

        <div class="diagram">
            <h2>仮想ゲートウェイの役割</h2>
            <svg viewBox="0 0 600 300" xmlns="http://www.w3.org/2000/svg">
                <!-- 仮想ゲートウェイ中央 -->
                <rect x="250" y="120" width="100" height="60" fill="#FF9900" stroke="#333" stroke-width="2" rx="10" />
                <text x="300" y="155" font-family="Arial" font-size="14" text-anchor="middle" fill="white">仮想ゲートウェイ</text>
                
                <!-- 上部：AWSリソース -->
                <rect x="140" y="30" width="80" height="40" fill="#9DD5F1" stroke="#333" stroke-width="2" rx="5" />
                <text x="180" y="55" font-family="Arial" font-size="14" text-anchor="middle">EC2</text>
                
                <rect x="260" y="30" width="80" height="40" fill="#9DD5F1" stroke="#333" stroke-width="2" rx="5" />
                <text x="300" y="55" font-family="Arial" font-size="14" text-anchor="middle">RDS</text>
                
                <rect x="380" y="30" width="80" height="40" fill="#9DD5F1" stroke="#333" stroke-width="2" rx="5" />
                <text x="420" y="55" font-family="Arial" font-size="14" text-anchor="middle">S3</text>
                
                <!-- 下部：オンプレミスリソース -->
                <rect x="140" y="230" width="320" height="40" fill="#F1D39D" stroke="#333" stroke-width="2" rx="5" />
                <text x="300" y="255" font-family="Arial" font-size="14" text-anchor="middle">オンプレミスネットワーク</text>
                
                <!-- 接続線 -->
                <line x1="180" y1="70" x2="280" y2="120" stroke="#333" stroke-width="2" />
                <line x1="300" y1="70" x2="300" y2="120" stroke="#333" stroke-width="2" />
                <line x1="420" y1="70" x2="320" y2="120" stroke="#333" stroke-width="2" />
                
                <line x1="300" y1="180" x2="300" y2="230" stroke="#FF9900" stroke-width="3" />
                
                <!-- 機能説明 -->
                <rect x="20" y="120" width="180" height="60" fill="#EDF8FF" stroke="#333" stroke-width="1" rx="10" />
                <text x="110" y="145" font-family="Arial" font-size="12" text-anchor="middle">トラフィックの暗号化</text>
                <text x="110" y="165" font-family="Arial" font-size="12" text-anchor="middle">セキュアな通信チャネル</text>
                
                <rect x="400" y="120" width="180" height="60" fill="#EDF8FF" stroke="#333" stroke-width="1" rx="10" />
                <text x="490" y="145" font-family="Arial" font-size="12" text-anchor="middle">ルーティングの管理</text>
                <text x="490" y="165" font-family="Arial" font-size="12" text-anchor="middle">BGPプロトコルによる経路交換</text>
                
                <!-- 接続線（説明） -->
                <line x1="200" y1="150" x2="250" y2="150" stroke="#333" stroke-width="1" stroke-dasharray="5,5" />
                <line x1="350" y1="150" x2="400" y2="150" stroke="#333" stroke-width="1" stroke-dasharray="5,5" />
            </svg>
        </div>

        <h2>仮想ゲートウェイを使用するメリット</h2>
        <ul>
            <li><strong>高いセキュリティ</strong>：インターネットを経由せず、専用線で接続するため、データ漏洩のリスクが低減します。</li>
            <li><strong>安定した接続性</strong>：インターネット経由の接続と比較して、レイテンシが低く安定した通信が可能です。</li>
            <li><strong>スケーラビリティ</strong>：帯域幅のニーズに応じて接続容量を調整できます。</li>
            <li><strong>ハイブリッドクラウド構成の実現</strong>：オンプレミス環境とAWSを統合的に運用できます。</li>
        </ul>

        <h2>まとめ：AWS Direct Connect仮想ゲートウェイの重要性</h2>
        <p>仮想ゲートウェイは、AWS Direct Connectの重要なコンポーネントとして、オンプレミス環境とAWS環境を安全かつ効率的につなぐ役割を果たします。企業のデータセンターとAWS間の通信をインターネットを介さない専用接続で実現することで、セキュリティ、パフォーマンス、コスト面でメリットをもたらします。</p>

        <div class="footer">
            <p>AWS Direct Connectおよび仮想ゲートウェイに関する詳細は、<a href="https://aws.amazon.com/directconnect/">AWS公式ドキュメント</a>をご参照ください。</p>
        </div>
    </div>
</body>
</html>